{% extends "./layout/mainLayout.njk" %}

{% block mainbody %}
    <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh">
        <h1>Login if you have an account</h1>
        <form action="/user/login" method="post" id="form1" style="display: flex; flex-direction: column; align-items: center;">
            <div>
                <label for="user">Username: </label>
                <input type="text" name="user" id="user_id"><br>
                <br>
                <label for="password">Password:  </label>
                <input type="text" name="password" id="password">
                <br><br>
            </div>
        <input type="submit" value = "Submit">
        <p id="notice"></p>
        </form>
    </div>
    
{% endblock mainbody %}

<script>


        let form1 = document.getElementById("form1");

        // This form is to submit login request
        form1.onsubmit = (e)=>{
            e.preventDefault()
            const formData = new FormData(e.target)
            const formProps = Object.fromEntries(formData)
            const jsonString = JSON.stringify(formProps)

            const notice = document.getElementById("notice")

            // Fetch Request
            fetch("/user/login", {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: jsonString
            })
        }

<<<<<<< HEAD
/* {#<<<<<<< HEAD#}
{#        let form2 = document.getElementById("form2");#}

{#        // This form is to submit login request#}
{#        form2.onsubmit = (e)=>{#}
{#            e.preventDefault()#}
{#            const formData = new FormData(e.target)#}
{#            const formProps = Object.fromEntries(formData)#}
{#            const jsonString = JSON.stringify(formProps)#}


{#            // Fetch Request#}
{#            fetch("/user/createUser", {#}
{#                method: 'POST',#}
{#                headers: {#}
{#                    'Content-Type': 'application/json'#}
{#                },#}
{#                body: jsonString#}
{#            })#}
{#                .then(res => res.json())#}
{#        }#}


{#=======#} */
=======

>>>>>>> da76eea90d6596a9872502b63f1b535092b492c5
        
        
</script>
